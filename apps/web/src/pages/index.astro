import BaseLayout from "../layouts/BaseLayout.astro";
import { heroStars } from "../data/heroStars";
---

<BaseLayout
  title="Podcast Tracker"
  description="Stay in sync with your podcasts."
>
  <section
    class="relative flex min-h-screen flex-col items-center justify-center gap-6 overflow-hidden bg-[#161258] px-6 text-center"
  >
    <img
      src="/assets/spotify.png"
      alt="Spotify icon"
      class="pointer-events-none fixed bottom-2 right-2 z-50 h-12 w-12 opacity-80 drop-shadow-[0_12px_28px_rgba(28,20,70,0.65)]"
    />
    <div aria-hidden="true" class="absolute inset-0">
      <svg
        class="absolute inset-0 h-full w-full"
        viewBox="0 0 1000 565"
        role="img"
        aria-hidden="true"
        preserveAspectRatio="xMidYMid slice"
      >
        <defs>
          <linearGradient id="skyGradient" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0" stop-color="#161258"></stop>
            <stop offset="0.55" stop-color="#412D8C"></stop>
            <stop offset="0.9" stop-color="#161258"></stop>
          </linearGradient>
          <radialGradient id="columnGlow" cx="0.5" cy="0.5" r="0.5">
            <stop offset="0" stop-color="#6B4390" stop-opacity="0.25"></stop>
            <stop offset="1" stop-color="#6B4390" stop-opacity="0"></stop>
          </radialGradient>
          <linearGradient id="mountFarGradient" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0" stop-color="#2A2676" stop-opacity="0.9"></stop>
            <stop offset="1" stop-color="#110C3F" stop-opacity="0.98"></stop>
          </linearGradient>
          <linearGradient id="mountMidGradient" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0" stop-color="#2F1D84" stop-opacity="0.92"></stop>
            <stop offset="1" stop-color="#130B3A" stop-opacity="1"></stop>
          </linearGradient>
          <linearGradient id="mountNearGradient" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0" stop-color="#1F125D" stop-opacity="1"></stop>
            <stop offset="1" stop-color="#0B0834" stop-opacity="1"></stop>
          </linearGradient>
          <linearGradient
            id="mountHighlightGradient"
            x1="0"
            y1="0"
            x2="0"
            y2="1"
          >
            <stop offset="0" stop-color="#B98DAD" stop-opacity="0.45"></stop>
            <stop offset="1" stop-color="#B98DAD" stop-opacity="0"></stop>
          </linearGradient>
          <linearGradient id="groundHaze" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0" stop-color="#110C3F" stop-opacity="0"></stop>
            <stop offset="1" stop-color="#110C3F" stop-opacity="0.65"></stop>
          </linearGradient>
        </defs>
        <rect width="1000" height="565" fill="url(#skyGradient)"></rect>
        <ellipse cx="200" cy="113" rx="220" ry="254.25" fill="url(#columnGlow)"
        ></ellipse>
        <ellipse cx="800" cy="101.7" rx="240" ry="271.2" fill="url(#columnGlow)"
        ></ellipse>
        <g class="hero-starfield">
          {heroStars.map((star) => (
            <circle
              cx={star.cx}
              cy={star.cy}
              r={star.r}
              fill="#D7D4FF"
              fill-opacity={star.opacity}
            ></circle>
          ))}
        </g>
        <g id="mountain-range">
          <path
            class="mountain-layer mountain-layer--far"
            d="M 0 395 L 80 365 L 170 380 L 260 345 L 350 370 L 430 330 L 520 350 L 610 320 L 710 350 L 810 325 L 900 355 L 1000 330 L 1000 565 L 0 565 Z"
            fill="url(#mountFarGradient)"></path>
          <path
            class="mountain-layer mountain-layer--mid"
            d="M 0 470 L 100 430 L 200 455 L 300 420 L 400 445 L 500 410 L 600 435 L 700 400 L 820 425 L 920 405 L 1000 415 L 1000 565 L 0 565 Z"
            fill="url(#mountMidGradient)"></path>
          <path
            class="mountain-layer mountain-layer--near"
            d="M 0 535 L 120 495 L 220 520 L 320 485 L 420 505 L 520 475 L 630 500 L 740 470 L 860 495 L 1000 480 L 1000 565 L 0 565 Z"
            fill="url(#mountNearGradient)"></path>
          <path
            class="mountain-layer mountain-layer--highlight"
            d="M 0 525 L 120 490 L 220 510 L 320 480 L 420 500 L 520 470 L 630 490 L 740 465 L 860 490 L 1000 475 L 1000 550 L 0 550 Z"
            fill="url(#mountHighlightGradient)"></path>
          <rect
            x="0"
            y="550"
            width="1000"
            height="30"
            fill="url(#groundHaze)"
            class="mountain-layer mountain-layer--haze"></rect>
        </g>
      </svg>
    </div>
    <div class="relative z-10 flex flex-col items-center gap-6">
      <span class="text-xs uppercase tracking-[0.6em] text-[#B88CA8]/80"
        >Night listening companion</span
      >
      <h1
        class="hero-title text-5xl font-extrabold tracking-tight text-brand-text sm:text-6xl md:text-7xl"
      >
        Podcast Tracker
      </h1>
      <p class="max-w-2xl text-base sm:text-lg">
        Chart every show across the cosmos and never lose your placeâ€”your plays,
        progress, and discoveries align automatically.
      </p>
      <a
        href="/app/profile"
        class="inline-flex items-center justify-center rounded-full bg-brand-primary px-8 py-3 text-sm font-semibold uppercase tracking-[0.3em] text-white shadow-[0_18px_40px_rgba(95,67,178,0.45)] transition hover:bg-brand-primary/90 focus-visible:outline focus-visible:outline-offset-4 focus-visible:outline-brand-accent"
        style="color: #fff;"
      >
        Enter The Tracker
      </a>
    </div>
  </section>
</BaseLayout>

<style>
  :global(.hero-starfield circle) {
    animation: star-twinkle 3.6s ease-in-out infinite;
    transform-origin: center;
  }

  :global(.hero-starfield circle:nth-child(2n)) {
    animation-duration: 4.2s;
    animation-delay: 0.24s;
  }

  :global(.hero-starfield circle:nth-child(3n)) {
    animation-duration: 4.8s;
    animation-delay: 0.48s;
  }

  :global(.hero-starfield circle:nth-child(5n)) {
    animation-duration: 5.6s;
    animation-delay: 0.72s;
  }

  :global(.mountain-layer) {
    opacity: 0;
    transform: translateY(36px);
    transform-origin: center bottom;
    animation: mountain-rise 1s ease-out forwards;
  }

  :global(.mountain-layer--far) {
    animation-delay: 0.08s;
  }

  :global(.mountain-layer--mid) {
    animation-delay: 0.22s;
  }

  :global(.mountain-layer--near) {
    animation-delay: 0.36s;
  }

  :global(.mountain-layer--highlight) {
    animation-delay: 0.48s;
  }

  :global(.mountain-layer--haze) {
    animation-delay: 0.6s;
  }

  @keyframes star-twinkle {
    0%,
    100% {
      opacity: 0.85;
    }
    50% {
      opacity: 0.3;
    }
  }

  @keyframes mountain-rise {
    0% {
      opacity: 0;
      transform: translateY(48px) scaleY(0.95);
    }
    65% {
      opacity: 0.85;
    }
    100% {
      opacity: 1;
      transform: translateY(0) scaleY(1);
    }
  }
</style>
